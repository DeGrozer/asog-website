@import "tailwindcss";

@theme {
  --color-navy: #03558C;
  --color-gold: #F8AF21;
  --color-gold-dk: #e8a900;
  --color-sky: #43A7DB;
  --color-dark: #03558C;
  --color-off: #F8F6F2;

  --font-display: "DM Serif Display", serif;
  --font-body: "DM Sans", sans-serif;
}

@layer components {
  /* ═══ NAVBAR & NAVIGATION ═══ */
  #navbar {
    @apply transition-all duration-500;
  }
  #navbar.scrolled {
    @apply bg-dark/10 backdrop-blur-[32px];
  }

  #navIn {
    @apply justify-center transition-all duration-500 py-2;
  }
  #navbar.scrolled #navIn {
    @apply h-14 pl-2 pr-0 justify-between py-0;
  }

  #navLogo {
    @apply absolute left-1/2 -translate-x-1/2 flex flex-col items-center gap-1 transition-all duration-500;
  }
  #navbar.scrolled #navLogo {
    @apply static translate-x-0 flex-row gap-0 items-center shrink-0;
  }

  #navImg {
    @apply transition-all duration-[450ms];
  }
  #navbar.scrolled #navImg {
    @apply w-0 h-0 opacity-0 overflow-hidden;
  }

  #navImgLandscape {
    @apply w-0 h-0 opacity-0 overflow-hidden transition-all duration-[450ms] delay-100;
    filter: brightness(0) invert(1);
    transition: filter .35s ease, width .45s ease .1s, height .45s ease .1s, opacity .45s ease .1s;
  }
  #navbar.scrolled #navImgLandscape {
    @apply w-80 h-16 opacity-100;
  }

  .nav-left {
    @apply transition-all duration-300;
  }
  #navbar.scrolled .nav-left {
    @apply opacity-0 invisible pointer-events-none absolute;
  }

  #navR {
    @apply transition-all duration-500;
  }
  #navbar.scrolled #navR {
    @apply static flex-nowrap items-center gap-0;
  }

  .nav-link {
    @apply flex items-center h-20 transition-all duration-200;
  }
  #navbar.scrolled .nav-link {
    @apply h-14;
  }

  .nl {
    @apply transition-all duration-[450ms];
  }
  #navbar.scrolled .nl {
    @apply h-14;
  }

  /* ═══ COLLAPSED DUPLICATES (.lo) ═══ */
  .lo {
    @apply flex min-w-0 w-0 opacity-0 max-w-0 px-0 overflow-hidden;
    transition: opacity .35s .1s ease, max-width .45s ease, padding .35s ease, width .45s ease;
  }
  #navbar.scrolled .lo {
    @apply opacity-100 w-auto max-w-[260px] px-2 overflow-visible;
  }

  /* ═══ SCROLLED DATA-ORDER REORDERING ═══ */
  #navbar.scrolled #navR .nav-dd[data-order="1"] { order: 1; }
  #navbar.scrolled #navR .nav-dd[data-order="2"] { order: 2; }
  #navbar.scrolled #navR .nav-dd[data-order="3"] { order: 3; }
  #navbar.scrolled #navR .nav-dd[data-order="4"] { order: 4; }
  #navbar.scrolled #navR .nav-dd[data-order="5"] { order: 5; }
  #navbar.scrolled #navR .nav-btn[data-order="6"] { order: 6; }

  .nav-btn {
    @apply transition-all duration-300;
  }

  /* ═══ DESKTOP DROPDOWNS ═══ */
  .nav-dd {
    @apply relative flex items-center;
  }

  .dd-menu {
    @apply absolute top-full left-0 mt-1 min-w-60 rounded-lg p-2 opacity-0 translate-y-2 pointer-events-none transition-all duration-200 z-90 backdrop-blur-[16px];
    @apply bg-dark/95 border border-white/10;
  }

  .nav-dd:hover .dd-menu,
  .nav-dd:focus-within .dd-menu {
    @apply opacity-100 translate-y-0 pointer-events-auto;
  }

  .dd-right {
    @apply left-auto right-0;
  }

  .dd-item {
    @apply block px-2.5 py-3 text-[0.62rem] font-normal tracking-widest uppercase no-underline rounded transition-all duration-200 whitespace-nowrap text-white/55;
  }

  .dd-item:hover {
    @apply text-off bg-sky/15;
  }

  .dd-sub {
    @apply relative;
  }

  .dd-sub-trigger {
    @apply flex items-center cursor-default;
  }

  .dd-sub-menu {
    @apply absolute left-full -top-2 ml-1 min-w-80 rounded-lg p-2 opacity-0 translate-x-1.5 pointer-events-none transition-all duration-200 z-100 backdrop-blur-[16px];
    @apply bg-dark/[0.97] border border-white/10;
  }

  .dd-sub:hover .dd-sub-menu {
    @apply opacity-100 translate-x-0 pointer-events-auto;
  }

  .dd-label {
    @apply block px-2.5 pt-2 pb-1 text-[0.5rem] font-bold tracking-widest uppercase text-sky/70;
  }

  .dd-indent {
    @apply pl-5;
  }

  /* ═══ MOBILE MENU ═══ */
  #mobileMenu {
    @apply transition-all duration-300;
  }

  #mobileMenu.open {
    transform: translateX(0) !important;
    opacity: 1 !important;
  }

  /* ═══ HERO SLIDES ═══ */
  .slide {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-position: center;
    opacity: 0;
    transition: opacity 1.4s ease;
  }
  .slide.active { opacity: 1; }

  .sl1 {
    background-image:
      linear-gradient(135deg, rgba(67,167,219,.55) 0%, rgba(3,85,140,.75) 100%),
      url('https://images.unsplash.com/photo-1531482615713-2afd69097998?w=1920&q=80');
  }
  .sl2 {
    background-image:
      linear-gradient(225deg, rgba(67,167,219,.40) 0%, rgba(3,85,140,.70) 100%),
      url('https://images.unsplash.com/photo-1552664730-d307ca884978?w=1920&q=80');
  }
  .sl3 {
    background-image:
      linear-gradient(315deg, rgba(3,85,140,.65) 0%, rgba(67,167,219,.45) 100%),
      url('https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=1920&q=80');
  }

  /* ═══ HERO HEADLINE STACK ═══ */
  .hl {
    position: absolute;
    left: 0;
    top: 0;
    opacity: 0;
    transform: translateY(18px);
    transition: opacity .85s cubic-bezier(.22,1,.36,1), transform .85s cubic-bezier(.22,1,.36,1);
    pointer-events: none;
  }
  .hl.active {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }

  /* ═══ SCROLL REVEAL ANIMATIONS ═══ */
  .reveal {
    opacity: 0;
    transform: translateY(44px);
    transition: opacity .9s cubic-bezier(.16,1,.3,1), transform .9s cubic-bezier(.16,1,.3,1);
  }
  .reveal.visible {
    opacity: 1;
    transform: translateY(0);
  }
  .reveal-d1 { transition-delay: .12s; }
  .reveal-d2 { transition-delay: .24s; }
  .reveal-d3 { transition-delay: .36s; }

  .reveal-group .rc {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity .55s cubic-bezier(.16,1,.3,1), transform .55s cubic-bezier(.16,1,.3,1);
  }
  .reveal-group.visible .rc:nth-child(1) { opacity:1; transform:translateY(0); transition-delay:.06s; }
  .reveal-group.visible .rc:nth-child(2) { opacity:1; transform:translateY(0); transition-delay:.12s; }
  .reveal-group.visible .rc:nth-child(3) { opacity:1; transform:translateY(0); transition-delay:.18s; }
  .reveal-group.visible .rc:nth-child(4) { opacity:1; transform:translateY(0); transition-delay:.24s; }
  .reveal-group.visible .rc:nth-child(5) { opacity:1; transform:translateY(0); transition-delay:.30s; }

  /* ═══ AI GRID (decorative pseudo-elements for light sections) ═══ */
  .ai-grid {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
  }
  .ai-grid::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(67,167,219,.06) 1px, transparent 1px),
      linear-gradient(90deg, rgba(67,167,219,.06) 1px, transparent 1px);
    background-size: 60px 60px;
  }
  .ai-grid::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image: radial-gradient(circle, rgba(67,167,219,.12) 1px, transparent 1px);
    background-size: 60px 60px;
  }
  .ai-grid-fade {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    background:
      linear-gradient(to right, #F8F6F2 0%, transparent 8%, transparent 92%, #F8F6F2 100%),
      linear-gradient(to bottom, #F8F6F2 0%, transparent 12%, transparent 88%, #F8F6F2 100%);
  }
  .ai-cross {
    position: absolute;
    width: 20px;
    height: 20px;
    pointer-events: none;
    z-index: 0;
  }
  .ai-cross::before,
  .ai-cross::after {
    content: '';
    position: absolute;
    background: rgba(248,175,33,.3);
  }
  .ai-cross::before { width: 20px; height: 1px; top: 50%; left: 0; }
  .ai-cross::after  { width: 1px; height: 20px; left: 50%; top: 0; }

  /* ═══ INDICATOR DOTS ═══ */
  .ind {
    @apply transition-all duration-400 h-1.5;
  }

  .ind:not(.active) {
    @apply w-1.5 rounded-full bg-white/25;
  }

  .ind.active {
    @apply w-7 rounded-full bg-gold;
  }

  /* ═══ RESPONSIVE: MOBILE NAVBAR (<lg / max-width:1023px) ═══ */
  @media (max-width: 1023px) {
    .nav-left,
    #navR,
    .lo {
      display: none !important;
    }

    #navIn {
      justify-content: space-between !important;
      height: 64px;
    }

    #navLogo {
      position: relative !important;
      left: auto !important;
      transform: none !important;
      flex-direction: row !important;
      align-items: center !important;
    }

    /* Default mobile: show seal, hide landscape */
    #navImg {
      width: 44px !important;
      height: 44px !important;
      opacity: 1 !important;
      display: flex !important;
    }

    #navImgLandscape {
      display: none !important;
    }

    /* Scrolled mobile: hide seal, show landscape */
    #navbar.scrolled #navIn {
      padding: 0 1rem;
      height: 56px;
    }

    #navbar.scrolled #navLogo {
      left: auto !important;
      flex-direction: row !important;
      align-items: center !important;
    }

    #navbar.scrolled #navImg {
      display: none !important;
    }

    #navbar.scrolled #navImgLandscape {
      display: flex !important;
      width: 140px !important;
      height: auto !important;
      max-height: 38px !important;
      opacity: 1 !important;
      object-fit: contain;
    }
  }
}

/* ═══════════════════════════════════════════════════════════
   NAVBAR — CONTENT-AWARE  (outside @layer so it beats utilities)
   ═══════════════════════════════════════════════════════════ */
#navbar.on-light.scrolled {
  background-color: rgba(255,255,255,.70) !important;
  backdrop-filter: blur(32px) !important;
}

/* nav links → dark navy */
#navbar.on-light .nav-link {
  color: rgba(3,85,140,.55) !important;
}
#navbar.on-light .nav-link:hover {
  color: #03558C !important;
  border-color: #F8AF21 !important;
}

/* hamburger bars */
#navbar.on-light #bar1,
#navbar.on-light #bar2,
#navbar.on-light #bar3 {
  background-color: #03558C !important;
}

/* logo: show original colors on light bg */
#navbar.on-light #navImgLandscape {
  filter: none !important;
}

/* seal: on light bg when scrolled, use the colored version */
#navbar.on-light.scrolled #navImg {
  filter: none !important;
}